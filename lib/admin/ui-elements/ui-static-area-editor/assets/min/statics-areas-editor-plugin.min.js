!function(e){var t={init:function(t){var n={offset:!0};return this.each(function(){function o(){d.accordion({header:"> div > h3",collapsible:!0,active:!1,icons:{header:"ui-icon-plus",activeHeader:"ui-icon-minus"}}).sortable({axis:"y",handle:"h3",placeholder:"ui-state-highlight",connectWith:".accordion-unit",beforeStop:function(t,n){all_group=e(n.item).parent(),e(".group",all_group).each(function(){index=e(this).index(),e(".key-position",this).val(index+1)})},receive:function(t,n){new_area=e(n.item).parent().parent().data("area"),e(".key-area",n.item).val(new_area)},stop:function(e,t){t.item.children("h3").triggerHandler("focusout")}}),a(),s()}function a(){u.on("click",function(){e(".group",l).length<h&&c()}),e(".delete-group",l).on("click",function(){return e(this).hasClass("confirm-state")||e(this).addClass("confirm-state"),!1}),e(".confirm-btn",l).on("click",function(){r(e(this).parent())}),e(".cancle-btn",l).on("click",function(){return e(this).parent().removeClass("confirm-state"),!1}),e(".group",l).on("mouseleave",function(){i(e(this))})}function i(t){e(".delete-group",t).removeClass("confirm-state")}function c(){var t,n=e(":selected",f).text(),o=e(":selected",f).data("position"),a=f.val();t=e(m).first().clone(),e(t).attr("data-static-id",a),e(".ui-accordion-header .label",t).text(n),nameKeyColLg=p+"["+a+"][options][col-lg]",e(".ui-accordion-content .key-col-lg",t).attr("name",nameKeyColLg),nameKeyColMd=p+"["+a+"][options][col-md]",e(".ui-accordion-content .key-col-md",t).attr("name",nameKeyColMd),nameKeyColSm=p+"["+a+"][options][col-sm]",e(".ui-accordion-content .key-col-sm",t).attr("name",nameKeyColSm),nameKeyColXs=p+"["+a+"][options][col-xs]",e(".ui-accordion-content .key-col-xs",t).attr("name",nameKeyColXs),nameKeyCustomClass=p+"["+a+"][options][class]",e(".ui-accordion-content .key-custom-class",t).attr("name",nameKeyCustomClass),nameItemName=p+"["+a+"][name]",e(".ui-accordion-content .key-item-name",t).attr({name:nameItemName,value:n}),nameKeyPriority=p+"["+a+"][options][position]",e(".ui-accordion-content .key-position",t).attr({name:nameKeyPriority,value:o}),nameKeyArea=p+"["+a+"][options][area]",e(".ui-accordion-content .key-area",t).attr({name:nameKeyArea}),e(".ui-accordion-content .key-col-xs",t).val("none"),e(".ui-accordion-content .key-col-sm",t).val("none"),e(".ui-accordion-content .key-col-md",t).val("none"),e(".ui-accordion-content .key-col-lg",t).val("none"),e(".ui-accordion-content .key-custom-class",t).val("custom-class"),e(".delete-group",t).on("click",function(){return e(this).hasClass("confirm-state")?e(this).removeClass("confirm-state"):e(this).addClass("confirm-state"),!1}),e(".confirm-btn",t).on("click",function(){r(e(this).parent())}),e(".cancle-btn",t).on("click",function(){return e(this).parent().removeClass("confirmState"),!1}),t.on("mouseleave",function(){i(e(this))}),d.eq(0).append(t).accordion("refresh"),s()}function r(t){var n=t.parent().parent();t.off("click"),e(".confirm-btn",t).off("click"),e(".cancle-btn",t).off("click"),n.off("mouseleave"),n.remove(),d.accordion("refresh"),s()}function s(){e("option",f).removeClass("hidden"),e(".group",l).each(function(){staticId=e(this).data("static-id"),e("option",f).each(function(){staticId==e(this).attr("value")&&e(this).addClass("hidden")})}),e(".group",l).length==h&&(f.val(""),f.attr("disabled","disabled")),e("option",f).each(function(){e(this).hasClass("hidden")||(f.val(e(this).attr("value")),f.removeAttr("disabled"))})}t&&e.extend(n,t);var l=e(this),u=e(".add-new-btn",l),d=e(".accordion-unit",l),m=e(".group",l),f=e(".static-selector",l),h=e("option",f).length,p=l.data("name");o()})},destroy:function(){},update:function(){}};e.fn.cherryStaticEditor=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?(e.error("Method with name "+n+" is not exist for jQuery.cherryAccordion"),void 0):t.init.apply(this,arguments)}}(jQuery);